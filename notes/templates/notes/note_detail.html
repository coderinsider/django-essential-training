{% extends "base.html" %}

{% block content %}
<div class="border round">
    <h1 class="my-5">{{note.title}}
        {% if note.is_public %} 
            <span class="badge bg-secondary">Public</span>
        {% else %}
            <span class="badge bg-secondary">Private</span>
        {% endif %}
    </h1>
    <p>{{note.content}}</p>
</div>
<form method="post" class="d-inline" action="{% url 'notes.change_visible_view' pk=note.id %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-secondary my-5">
        {% if note.is_public %}
            Make Private
            {% else %}
            Make Public
            {% endif %}
    </button>
</form>
<form method="post" class="d-inline" action="{% url 'notes.add_liked' pk=note.id %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-secondary my-5">UpVote</button>
</form>
<p>{{ note.likes }} Likes</p>

<a href="{% url 'notes.list' %}" class="btn btn-secondary my-5">Back</a>
<a href="{% url 'notes.update' pk=note.id %}" class="btn btn-primary my-5">Update</a>
<a href="{% url 'notes.delete' pk=note.id %}" class="btn btn-danger my-5">Delete</a>
{% endblock %}